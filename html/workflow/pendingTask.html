<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>工作流-待办任务</title>
    <link rel="stylesheet" href="../../plug-in/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../plug-in/bootstrap/css/fileinput.min.css">
    <link rel="stylesheet" href="../../plug-in/bootstrap/js/plugins/font-awesome-4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="../../plug-in/bootstrap/themes/explorer-fa/theme.css">
    <link rel="stylesheet" href="../../plug-in/easyui/themes/skin1/easyui.css">
    <script src="../../plug-in/jquery-1.10.2.min.js"></script>
    <script src="../../resource/common_js/common.js"></script>

    <!-- 日历插件 -->
    <script src="../../plug-in/laydate/laydate.js"></script>
    <!-- layer弹窗 -->
    <script src="../../plug-in/layer/layer.js" type="text/javascript"></script>
    <script src="../../plug-in/layer/layerExtend.js" type="text/javascript"></script>

    <!-- 自定义样式 -->
    <link rel="stylesheet" href="../../resource/css/style.css">
    <script type="text/javascript">
        $(function(){
            laydate.render({
                elem: '#date'
                ,range: true
            });
            //全局使用。即所有弹出层都默认采用，但是单个配置skin的优先级更高
            layer.config({
                extend: 'myskin/style.css', //加载您的扩展样式
                skin: 'layer-ext-myskin'
            });
            sessionStorage.removeItem("handlerName");
        });
        function delegate(){
            var param = {
                area:["600px","240px"],
                success: function(){
                    // TODO
                    
                }
            };
            var content = ['<div style="margin-top: 50px;">',
                    '        <input type="text" class="input01 w240" readonly="readonly" id="handlerName"></td>',
                    '        <button type="button" class="btn common ml10" onclick="chooseHandler(\'handlerChoose.html\');">选择办理人</button><button type="button" class="btn common bgG ml10" onclick="chooseHandler(\'roleChoose.html\');">选择办理角色</button>',
                    '    </div>'].join("");
            param.content = content;
            var dispassLayer = $.layerContent(param);
        }
        /**
         * 选择办理人
         * @param  {[type]} url [description]
         * @return {[type]}     [description]
         */
        function chooseHandler(url){
            var param = {
                type: 2,
                area:["1000px","600px"],
                success: function(){
                    // TODO
                    
                },
                yes: function(index, layero){
                    $("#handlerName").val(sessionStorage.getItem("handlerName"));
                    layer.close(index);
                }
            };
            var content = url;
            param.content = content;
            var dispassLayer1 = $.layerContent(param);
        }
    </script>
</head>
<body>
    <p class="page-title"><img src="../../resource/images/page_title02.png">待办任务</p>
    <div class="search-table clearfix mt15">
        <table>
            <tr>
                <th width="120">流程名称：</th>
                <td><input type="text" class="input01"></td>
                <th width="120">起止时间：</th>
                <td><input type="text" class="input01 layui-input w240" id="date"></td>
                <td><span class="search_btn01 ml30">查询</span><span class="border-btn ml10">重置</span></td>
            </tr>
        </table>
    </div>
    <div class="table_outer bgFFF mt15">
        <div class="table_search">
            <span class="title">运行中流程列表</span>
        </div>
        <div style="padding: 20px;">
            <table class="table01">
                <thead>
                    <tr>
                        <th>序号</th>
                        <th>流程名称</th>
                        <th>申请人</th>
                        <th>当前节点（代办人）</th>
                        <th>当前任务</th>
                        <th>创建时间</th>
                        <th>操作</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>XXXX</td>
                        <td>XXXX</td>
                        <td>XXXX</td>
                        <td>管理员审批</td>
                        <td>2018-09-11 15:27:00</td>
                        <td><span class="btn common" onclick="delegate();">委派</span><a href="taskHandle.html" class="btn common bgG ml10">办理</a></td>
                    </tr>
                    <tr>
                        <td>1</td>
                        <td>XXXX</td>
                        <td>XXXX</td>
                        <td>XXXX</td>
                        <td>管理员审批</td>
                        <td>2018-09-11 15:27:00</td>
                        <td><span class="btn common" onclick="delegate();">委派</span><a href="taskHandle.html" class="btn common bgG ml10">办理</span></td>
                    </tr>
                    <tr>
                        <td>1</td>
                        <td>XXXX</td>
                        <td>XXXX</td>
                        <td>XXXX</td>
                        <td>管理员审批</td>
                        <td>2018-09-11 15:27:00</td>
                        <td><span class="btn common" onclick="delegate();">委派</span><a href="taskHandle.html" class="btn common bgG ml10">办理</a></td>
                    </tr>
                </tbody>
            </table>
            <div class="page_div clearfix">
                <ul class="fr">
                    <li class="prev"></li>
                    <li>1</li>
                    <li class="hover">2</li>
                    <li>3</li>
                    <li>...</li>
                    <li>9</li>
                    <li class="next"></li>
                    <li class="to-page">到<input type="text">页</li>
                </ul>
                <div class="clear"></div>
            </div>
        </div>
    </div>
</body>
</html>